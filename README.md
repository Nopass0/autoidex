# autoidex

## Установка зависимостей:

```bash
bun install
```

## Запуск:

```bash
bun run index.ts
```

## Обновления API (Август 2025)

### Изменения в формате ответа API

API Gate.cx был обновлен. Основные изменения:

1. **Структура ответа**: Теперь ответ содержит обертку с полем `success` и вложенной структурой `response.payouts.data`:

   ```json
   {
     "success": true,
     "response": {
       "payouts": {
         "data": [...],
         "meta": {...}
       }
     }
   }
   ```

2. **Структура wallet**: Поле `wallet` теперь является объектом с полями `phone` или `card`:

   ```json
   {
     "wallet": {
       "phone": "79606013854"  // для СБП платежей
     }
   // или
     "wallet": {
       "card": "2202200994775219"  // для карточных платежей
     }
   }
   ```

3. **URL запроса**: Упрощен URL для получения выплат - теперь используется без фильтров:
   ```
   https://panel.gate.cx/api/v1/payments/payouts?page=1
   ```

### Совместимость

Код поддерживает как новый, так и старый формат API для обеспечения обратной совместимости. При получении данных автоматически определяется формат ответа и используется соответствующая логика парсинга.

This project was created using `bun init` in bun v1.2.5. [Bun](https://bun.sh) is a fast all-in-one JavaScript runtime.
